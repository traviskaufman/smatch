/**
* smatch - A scala-style pattern matching utility for javascript.
* @author Travis Kaufman <travis.kaufman@gmail.com>
* @copyright 2013 Travis Kaufman
* @license MIT
* @version 0.0.1
*/
!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.match=b()}(this,function(){"use strict";function a(a){return Object.prototype.toString.call(a).slice(8,-1)}function b(){return Object.create(null)}function c(){if("function"==typeof Symbol)return Symbol();var a=b(),c=(Date.now(),function(){return["#","__sym_",Date.now(),"__"].join("")}),d=Object.getOwnPropertyDescriptor(Object.prototype,"toString");return d.value=c,Object.defineProperty(a,"toString",d),a}function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function e(a,b,c){return Array.prototype.indexOf.call(a,b,c)}function f(a){return null===a||~e(n,typeof a)}function g(a){return null!==a&&"object"==typeof a}function h(a){return"number"==typeof a&&isNaN(a)}function i(a,b){return b===p?a:b}function j(a){return(a.match(s)||[])[1]}function k(a,b){return a.source===b.source&&a.ignoreCase==b.ignoreCase&&a.global===b.global&&a.multiline===b.multiline}function l(b,c){var g,h,i,m,n=void 0===arguments[2]?[]:arguments[2],p=a(b),q=a(c);if("RegExp"==p||"RegExp"==q)return k(b||{},c||{})?[]:null;if(~e(o,p)||~e(o,q))return(b&&b.valueOf())===(c&&c.valueOf())?[]:null;for(g in c)if(d(c,g)){if(!d(b,g))return null;if(h=c[g],i=b[g],"string"==typeof h&&(m=j(h))){n[m]=i;continue}if(d(h,r)&&(h=h[r]),f(h)&&f(i)&&h===i)continue;if(f(h)||f(i))return null;if(!l(i,h,n))return null}return n}function m(b,c){var g,i=f(b),j=f(c),l=a(b),n=a(c);if(i&&j)return h(b)?h(c):b===c;if(i||j)return!1;if("RegExp"==l||"RegExp"==n)return k(b,c);if(~e(o,l)||~e(o,n))return(b&&b.valueOf())===(c&&c.valueOf());if(u(b).length!=u(c).length)return!1;for(g in b)if(d(b,g)){if(d(c,g)&&m(b[g],c[g]))continue;return!1}return!0}var n=["undefined","number","boolean","string"],o=["Number","String","Date","Boolean"],p=c(),q=c(),r=(c(),c()),s=/^\$(\d+)$/,t=function(a,b){var c=p,d=h(a),e=function(b,e){var j,k;if(c===p)switch("function"!=typeof e&&(j=e,e=function(){return j}),!0){case b===q:case d&&h(b):case f(b)&&b===a:case"function"==typeof b&&!!b(a):c=i(e(),c);break;case g(b):k=l(a,b),k&&(c=i(e.apply(null,k),c))}};return b(e),c};t.typeOf=function(a){return function(b){var c=typeof b;return null===b?"null"===a:c===a}},t.raw=function(a){var c=b();return c[r]=a,c},t.instanceOf=function(a){return function(b){return b instanceof a}},t.exactly=function(a){return function(b){return m(a,b)}},t.oneOf=function(){var a=Array.prototype.slice.call(arguments);return function(b){return~e(a,b)}},t.MISS=p,t.ANY=q;var u=Object.keys;return t});